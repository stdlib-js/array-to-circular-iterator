// Copyright (c) 2024 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import e from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.1.0-esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.1.1-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.1.1-esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-collection@v0.1.0-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.1.0-esm/index.mjs";import{isPrimitive as s}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-nonnegative-integer@v0.1.0-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-assert-is-accessor-array@v0.1.0-esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/symbol-iterator@v0.1.1-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-accessor-getter@v0.1.0-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-getter@v0.1.0-esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/array-dtype@v0.1.0-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/string-format@v0.1.1-esm/index.mjs";function p(u){var j,g,v,c,f,b,x,y,w,E;if(!n(u))throw new TypeError(h("invalid argument. First argument must be an array-like object. Value: `%s`.",u));if(c={iter:1e308,dir:1},arguments.length>1)if(i(arguments[1])){if(g=arguments[1],arguments.length>2){if(!r(x=arguments[2]))throw new TypeError(h("invalid argument. Callback argument must be a function. Value: `%s`.",x));j=arguments[3]}if(t(g,"iter")&&(c.iter=g.iter,!s(g.iter)))throw new TypeError(h("invalid option. `%s` option must be a nonnegative integer. Option: `%s`.","iter",g.iter));if(t(g,"dir")&&(c.dir=g.dir,1!==g.dir&&-1!==g.dir))throw new TypeError(h("invalid option. `%s` option must be either `1` or `-1`. Option: `%s`.","dir",g.dir))}else{if(!r(x=arguments[1]))throw new TypeError(h("invalid argument. Second argument must be either a function or an options object. Value: `%s`.",x));j=arguments[2]}return v=0,f={},x?1===c.dir?(E=-1,e(f,"next",T)):(E=u.length,e(f,"next",V)):1===c.dir?(E=-1,e(f,"next",k)):(E=u.length,e(f,"next",O)),e(f,"return",C),d&&e(f,d,F),w=m(u),y=o(u)?l(w):a(w),f;function T(){return E=(E+1)%u.length,v+=1,b||v>c.iter||0===u.length?{done:!0}:{value:x.call(j,y(u,E),E,v,u),done:!1}}function V(){return(E-=1)<0&&(E+=u.length),v+=1,b||v>c.iter||0===u.length?{done:!0}:{value:x.call(j,y(u,E),E,v,u),done:!1}}function k(){return E=(E+1)%u.length,v+=1,b||v>c.iter||0===u.length?{done:!0}:{value:y(u,E),done:!1}}function O(){return(E-=1)<0&&(E+=u.length),v+=1,b||v>c.iter||0===u.length?{done:!0}:{value:y(u,E),done:!1}}function C(e){return b=!0,arguments.length?{value:e,done:!0}:{done:!0}}function F(){return x?p(u,c,x,j):p(u,c)}}export{p as default};
//# sourceMappingURL=index.mjs.map
